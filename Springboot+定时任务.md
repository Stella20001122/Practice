# Springboot+定时任务

##### [SpringBoot使用@Scheduled注解实现定时任务_springboot scheduled注解-CSDN博客](https://blog.csdn.net/pan_junbiao/article/details/109399280)

###### --0514--SXJ练习

###### 项目：testschedule

1. 新建springboot项目，包含starter依赖即可；
2. SpringBoot 项目在项目启动类上添加 @EnableScheduling 注解即可开启定时任务管理。

```
package com.schedule;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.scheduling.annotation.EnableScheduling;


// Generated by https://start.springboot.io
// 优质的 spring/boot/data/security/cloud 框架中文文档尽在 => https://springdoc.cn
@SpringBootApplication
@EnableScheduling //SpringBoot 项目在项目启动类上添加 @EnableScheduling 注解即可开启定时任务管理。
public class TestscheduleApplication {

	public static void main(String[] args) {
		SpringApplication.run(TestscheduleApplication.class, args);
	}

}
```

3. 创建定时任务，用@Scheduled注解

```
package com.schedule.testtask;

import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Component;
 
import java.text.SimpleDateFormat;
import java.util.Date;
 
/**
 * 定时任务的使用
 * @author pan_junbiao
 **/
@Component
public class Task
{
    @Scheduled(cron="0/5 * *  * * ? ")   //每5秒执行一次
    public void execute(){
        SimpleDateFormat df = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"); //设置日期格式
        System.out.println("欢迎访问 " + df.format(new Date()));
    }
}
```

运行：

![](D:\godblessing\forwork\操作记录\figure\springboot+schedule-1.png)

4. 参数

cron 表达式语法：

```
cron 表达式语法：
格式：[秒] [分] [小时] [日] [月] [周] [年]
```

可通过在线生成Cron表达式的工具：http://cron.qqe2.com/ 来生成自己想要的表达式。

